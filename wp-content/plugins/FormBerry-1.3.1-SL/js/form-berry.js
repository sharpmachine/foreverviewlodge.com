RegExp.quote||(RegExp.quote=function(c){return c.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1")});
(function(c){var l={init:function(a){return this.each(function(){var f=c(this);if(!f.data("formberry")){f.data("formberry",a);f.formberry_form("init_conditionals",a)}})},init_conditionals:function(a){return this.each(function(){var f=c(this);c.each(a.field_conditionals,function(a,b){if(b.field_id){var h=c("#"+b.field_id),i=c("#label_for_"+b.field_id),j=c("#comment_for_"+b.field_id);c.each(b.conditionals_rules,function(a,b){if(b.form_field_id){var e=c("#"+b.form_field_id);b.rule_field=e;e.change(function(){f.formberry_form("eval_conditionals",
h,i,j)})}});h.data("formberry_conditionals",b);f.formberry_form("eval_conditionals",h,i,j)}})})},eval_conditionals:function(a,f,l){return this.each(function(){c(this);var b=a.data("formberry_conditionals");if(b){var h=b.conditionals_bool_type=="all";c.each(b.conditionals_rules,function(a,e){var d;d=false;var g;if(e.rule_field.hasClass("dtq-fby_form-field-checkbox-group")){var f=e.rule_field.find("input[type=checkbox]:checked"),i=f.length;g="";f.each(function(a,b){g=g+c(b).val();a<i-1&&(g=g+" ")})}else if(e.rule_field.hasClass("dtq-fby_form-field-radio-group"))g=
(f=e.rule_field.find("input[type=radio]:checked"))?f.val():"";else g=e.rule_field.val();switch(e.condition){case "contains":d=RegExp(RegExp.quote(e.value),"gi");d=d.test(g);break;case "not_contains":d=RegExp(RegExp.quote(e.value),"gi");d=!d.test(g);break;case "equals":d=RegExp("^"+RegExp.quote(e.value)+"$","gi");d=d.test(g);break;case "not_equals":d=RegExp("^"+RegExp.quote(e.value)+"$","gi");d=!d.test(g);break;default:console&&console.error("Unsupported rule condition: "+e.condition)}if(b.conditionals_bool_type==
"all"&&!d)return h=false;if(b.conditionals_bool_type=="any"&&d){h=true;return false}});var i,j,k;i=a.closest("td.form-entry");j=f.closest("td.form-label");k=l.closest("td.form-field-comment");a.hasClass("dtq-fby_form-field-checkbox-group")?a=a.find("input[type=checkbox]"):a.hasClass("dtq-fby_form-field-radio-group")&&(a=a.find("input[type=radio]"));switch(b.conditionals_type){case "show":if(h){i.show();j.show();k.show()}else{i.hide();j.hide();k.hide()}break;case "hide":if(h){i.hide();j.hide();k.hide()}else{i.show();
j.show();k.show()}break;case "enable":h?a.removeAttr("disabled"):a.attr("disabled","true");break;case "disable":h?a.attr("disabled","true"):a.removeAttr("disabled");break;default:console&&console.error("Unsupported conditionals type: "+b.conditionals_type)}}})},destroy:function(){return this.each(function(){c(this).removeData("formberry")})}};c.fn.formberry_form=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,1));if(typeof a==="object"||!a)return l.init.apply(this,
arguments);c.error("Method "+a+" does not exist on $.formberry_form");return null}})(dtq_fby_jQuery);